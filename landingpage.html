<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ReadEase ‚Äî Adaptive Reading Assistant</title>
<link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&family=Lora:wght@600&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #faf8f4;
    --warm:  #fff9f2;
    --sage:  #6a9e7f;
    --sage-d:#3e7057;
    --sage-l:#c2dace;
    --amber: #e8a84a;
    --rose:  #d97b6c;
    --ink:   #26201c;
    --mid:   #5a4f48;
    --soft:  #9a8e86;
    --card:  rgba(255,255,255,0.82);
    --r:     18px;
    --sh:    0 4px 28px rgba(38,32,28,0.09);
    --hl:    rgba(106,158,127,0.32);
    --hl-c:  rgba(232,168,74,0.38);
  }
  *{ margin:0; padding:0; box-sizing:border-box; }
  body{
    font-family:'Atkinson Hyperlegible',sans-serif;
    background:var(--cream); color:var(--ink);
    min-height:100vh; overflow-x:hidden;
  }
  body::before{
    content:''; position:fixed; width:560px; height:560px;
    background:radial-gradient(circle,rgba(194,218,206,0.3) 0%,transparent 68%);
    top:-130px; right:-130px; border-radius:50%;
    pointer-events:none; z-index:0;
  }
  body::after{
    content:''; position:fixed; width:460px; height:460px;
    background:radial-gradient(circle,rgba(232,168,74,0.13) 0%,transparent 68%);
    bottom:-90px; left:-90px; border-radius:50%;
    pointer-events:none; z-index:0;
  }
  .app{ position:relative; z-index:1; max-width:760px; margin:0 auto; padding:28px 20px 100px; }

  /* HEADER */
  header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:22px; animation:up 0.55s ease both; flex-wrap:wrap; gap:10px; }
  .logo{ display:flex; align-items:center; gap:10px; }
  .logo-icon{ width:40px; height:40px; background:linear-gradient(135deg,var(--sage),var(--sage-d)); border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:21px; }
  .logo-text{ font-family:'Lora',serif; font-size:22px; font-weight:600; }
  .logo-text span{ color:var(--sage-d); }
  .header-right{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
  .day-pill{ background:var(--card); backdrop-filter:blur(8px); border:1px solid rgba(106,158,127,0.28); border-radius:100px; padding:6px 16px; font-size:13px; color:var(--mid); font-weight:700; }

  /* LANGUAGE SELECTOR */
  .lang-strip{ display:flex; gap:6px; flex-wrap:wrap; margin-bottom:16px; animation:up 0.6s 0.03s ease both; }
  .lang-btn{ display:flex; align-items:center; gap:6px; padding:8px 18px; border-radius:100px; border:1.5px solid rgba(38,32,28,0.12); background:var(--card); font-family:'Atkinson Hyperlegible',sans-serif; font-size:13px; font-weight:700; color:var(--mid); cursor:pointer; transition:all 0.2s; box-shadow:var(--sh); }
  .lang-btn:hover{ background:white; border-color:var(--sage-l); }
  .lang-btn.active{ background:var(--sage-d); color:white; border-color:var(--sage-d); }
  .lang-flag{ font-size:16px; }

  /* START BOX */
  .start-box{ background:linear-gradient(135deg,var(--sage-d),var(--sage)); border-radius:22px; padding:24px 28px; display:flex; align-items:center; justify-content:space-between; gap:18px; box-shadow:0 8px 30px rgba(62,112,87,0.32); margin-bottom:20px; animation:up 0.6s 0.05s ease both; }
  .start-words{ color:white; }
  .start-words h2{ font-family:'Lora',serif; font-size:21px; font-weight:600; margin-bottom:4px; }
  .start-words p { font-size:14px; opacity:0.88; line-height:1.5; }
  #big-start-btn{ background:white; color:var(--sage-d); border:none; border-radius:100px; padding:14px 30px; font-family:'Atkinson Hyperlegible',sans-serif; font-size:17px; font-weight:700; cursor:pointer; white-space:nowrap; box-shadow:0 4px 18px rgba(0,0,0,0.14); transition:all 0.2s; flex-shrink:0; }
  #big-start-btn:hover{ transform:scale(1.05); }
  #big-start-btn:disabled{ opacity:0.45; cursor:not-allowed; transform:none; }

  /* SPEED + PAUSE ROW */
  .controls-row{ display:flex; align-items:center; gap:12px; margin-bottom:16px; animation:up 0.6s 0.08s ease both; background:var(--card); border-radius:var(--r); border:1px solid rgba(255,255,255,0.9); padding:14px 20px; box-shadow:var(--sh); flex-wrap:wrap; }
  .controls-row label{ font-size:13px; font-weight:700; color:var(--mid); white-space:nowrap; }
  #speed-slider{ flex:1; min-width:100px; -webkit-appearance:none; height:6px; background:linear-gradient(90deg,var(--sage-l),var(--sage)); border-radius:100px; outline:none; cursor:pointer; }
  #speed-slider::-webkit-slider-thumb{ -webkit-appearance:none; width:20px; height:20px; border-radius:50%; background:var(--sage-d); box-shadow:0 2px 8px rgba(62,112,87,0.4); cursor:pointer; }
  .speed-lbl{ font-size:13px; font-weight:700; color:var(--sage-d); min-width:80px; text-align:right; }
  #pause-btn{ display:none; align-items:center; gap:6px; padding:8px 16px; border-radius:100px; border:1.5px solid rgba(232,168,74,0.5); background:rgba(232,168,74,0.1); font-family:'Atkinson Hyperlegible',sans-serif; font-size:13px; font-weight:700; color:#a06210; cursor:pointer; transition:all 0.2s; white-space:nowrap; }
  #pause-btn:hover{ background:rgba(232,168,74,0.2); }
  #pause-btn.show{ display:flex; }

  /* TOOLS */
  .tools-strip{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:14px; animation:up 0.6s 0.18s ease both; }
  .tb{ display:flex; align-items:center; gap:6px; padding:8px 16px; border-radius:100px; border:1.5px solid rgba(38,32,28,0.12); background:var(--card); backdrop-filter:blur(8px); font-family:'Atkinson Hyperlegible',sans-serif; font-size:13px; font-weight:700; color:var(--mid); cursor:pointer; transition:all 0.2s; box-shadow:var(--sh); }
  .tb:hover{ background:white; border-color:var(--sage-l); color:var(--ink); }
  .tb.on   { background:var(--sage); color:white; border-color:var(--sage); }
  .tb .ic  { font-size:15px; }

  /* PASSAGE CARD */
  .passage-card{ background:var(--warm); border:2px solid rgba(255,255,255,0.9); border-radius:26px; margin-bottom:18px; box-shadow:var(--sh); overflow:hidden; animation:up 0.6s 0.22s ease both; }
  .prog-strip{ height:6px; background:rgba(38,32,28,0.06); }
  .prog-fill { height:100%; width:0%; background:linear-gradient(90deg,var(--sage),var(--amber)); transition:width 0.6s ease; border-radius:0 4px 4px 0; }
  .passage-inner{ padding:36px 42px 32px; }
  .p-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap:wrap; gap:6px; }
  .p-title  { font-size:12px; color:var(--soft); text-transform:uppercase; letter-spacing:0.9px; font-weight:700; }
  .p-counter{ font-size:13px; color:var(--soft); font-weight:700; }

  /* IDLE / DONE */
  .idle-msg{ text-align:center; color:var(--soft); font-size:16px; line-height:1.65; padding:28px 0; }
  .idle-msg span{ font-size:38px; display:block; margin-bottom:12px; }
  .done-msg{ text-align:center; padding:16px 0 8px; animation:up 0.4s ease both; }
  .done-msg span{ font-size:44px; display:block; margin-bottom:10px; }
  .done-msg p{ font-size:20px; color:var(--sage-d); font-weight:700; }

  /* ‚ïê‚ïê‚ïê SENTENCE LINE ‚ïê‚ïê‚ïê */
  .sent-line{
    font-size:30px;
    line-height:2.6;
    letter-spacing:0.025em;
    word-spacing:0.14em;
    color:var(--ink);
    padding:10px 0 14px 22px;
    border-left:5px solid var(--sage-l);
    animation:lineIn 0.45s cubic-bezier(.4,0,.2,1) both;
  }
  @keyframes lineIn{ from{opacity:0;transform:translateX(-14px)} to{opacity:1;transform:none} }
  .sent-line.focus-mode { letter-spacing:0.1em; word-spacing:0.3em; }
  .sent-line.simple-mode{ font-size:36px; line-height:2.9; }
  .sent-line.chunk-mode { font-size:26px; line-height:3.0; }

  /* ‚ïê‚ïê‚ïê WORD SPANS ‚ïê‚ïê‚ïê */
  .word{
    display:inline-block;
    border-radius:7px;
    padding:3px 5px;
    margin:0 1px;
    cursor:default;
    transition:background 0.15s, transform 0.15s, box-shadow 0.15s;
    position:relative;
  }
  .word.lit{
    background: var(--hl);
    transform: scale(1.08);
    box-shadow: 0 2px 12px rgba(106,158,127,0.25);
  }
  .word.tricky{
    border-bottom: 2.5px dotted var(--amber);
    cursor: help;
  }
  .word.tricky.lit{
    background: var(--hl-c);
    transform: scale(1.1);
    box-shadow: 0 3px 16px rgba(232,168,74,0.3);
    border-bottom: none;
  }

  /* Syllable bubble */
  .syl{
    display: none;
    position: absolute;
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%);
    background: var(--ink);
    color: white;
    font-size: 13px;
    font-weight: 700;
    padding: 5px 13px;
    border-radius: 100px;
    white-space: nowrap;
    letter-spacing: 0.12em;
    box-shadow: 0 4px 18px rgba(38,32,28,0.24);
    pointer-events: none;
    z-index: 50;
  }
  .syl::after{
    content:'';
    position:absolute;
    top:100%; left:50%;
    transform:translateX(-50%);
    border:5px solid transparent;
    border-top-color:var(--ink);
  }
  .syl .dot{ color:var(--amber); }
  .word.tricky.lit .syl{ display:block; animation:bubbleIn 0.2s ease both; }
  @keyframes bubbleIn{ from{opacity:0;transform:translateX(-50%) translateY(6px)} to{opacity:1;transform:translateX(-50%) translateY(0)} }

  /* BOTTOM */
  .bottom-btns{ display:flex; justify-content:center; gap:12px; flex-wrap:wrap; animation:up 0.6s 0.33s ease both; margin-bottom:28px; }
  .btn{ padding:12px 26px; border-radius:100px; border:none; font-family:'Atkinson Hyperlegible',sans-serif; font-size:14px; font-weight:700; cursor:pointer; transition:all 0.2s; }
  .btn-alt{ background:var(--card); color:var(--mid); border:1.5px solid rgba(38,32,28,0.12); }
  .btn-alt:hover{ background:white; }
  .btn-end{ background:linear-gradient(135deg,var(--sage-d),var(--sage)); color:white; box-shadow:0 4px 16px rgba(62,112,87,0.28); }
  .btn-end:hover{ transform:translateY(-1px); }

  /* SUMMARY OVERLAY */
  .overlay{ display:none; position:fixed; inset:0; background:rgba(38,32,28,0.52); backdrop-filter:blur(6px); z-index:200; align-items:center; justify-content:center; }
  .overlay.show{ display:flex; }
  .sum-card{ background:var(--warm); border-radius:28px; padding:44px 48px; max-width:500px; width:90%; text-align:center; box-shadow:0 32px 80px rgba(38,32,28,0.28); animation:pop 0.4s cubic-bezier(.34,1.56,.64,1) both; }
  .sum-card .big-e{ font-size:58px; display:block; margin-bottom:14px; }
  .sum-card h2   { font-family:'Lora',serif; font-size:26px; margin-bottom:6px; }
  .sum-card .sub { color:var(--mid); font-size:15px; margin-bottom:26px; line-height:1.6; }
  .sum-stats{ display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-bottom:24px; }
  .ss   { background:rgba(106,158,127,0.1); border-radius:14px; padding:16px 10px; }
  .ss .v{ font-family:'Lora',serif; font-size:26px; font-weight:600; color:var(--sage-d); }
  .ss .l{ font-size:11px; color:var(--soft); text-transform:uppercase; letter-spacing:0.6px; margin-top:4px; font-weight:700; }
  .sum-msg { font-size:15px; color:var(--mid); line-height:1.7; margin-bottom:14px; }
  .sum-next{ font-size:13px; color:var(--sage-d); font-weight:700; margin-bottom:22px; }
  .btn-close{ background:linear-gradient(135deg,var(--sage-d),var(--sage)); color:white; border:none; border-radius:100px; padding:14px 34px; font-family:'Atkinson Hyperlegible',sans-serif; font-size:16px; font-weight:700; cursor:pointer; box-shadow:0 4px 18px rgba(62,112,87,0.3); transition:all 0.2s; }
  .btn-close:hover{ transform:translateY(-1px); }

  /* TOOLTIP */
  .tip{ position:fixed; background:var(--ink); color:white; padding:9px 14px; border-radius:10px; font-size:13px; font-weight:700; pointer-events:none; opacity:0; transition:opacity 0.2s; z-index:500; max-width:260px; line-height:1.5; }
  .tip.show{ opacity:1; }

  /* TOAST */
  .toast{ position:fixed; bottom:30px; left:50%; transform:translateX(-50%) translateY(18px); background:var(--ink); color:white; padding:13px 24px; border-radius:100px; font-size:14px; font-weight:700; opacity:0; transition:all 0.4s cubic-bezier(.4,0,.2,1); pointer-events:none; z-index:999; white-space:nowrap; }
  .toast.show{ opacity:1; transform:translateX(-50%) translateY(0); }

  @keyframes up { from{opacity:0;transform:translateY(14px)} to{opacity:1;transform:none} }
  @keyframes pop{ from{opacity:0;transform:scale(0.88)}       to{opacity:1;transform:scale(1)} }

  @media(max-width:580px){
    .passage-inner{ padding:22px 18px 20px; }
    .sent-line    { font-size:22px; padding-left:14px; }
    .sum-card     { padding:30px 22px; }
    .sum-stats    { grid-template-columns:1fr; }
    .start-box    { flex-direction:column; text-align:center; }
    .lang-strip   { gap:5px; }
  }
</style>
</head>
<body>
<div class="app">

  <!-- HEADER -->
  <header>
    <div class="logo">
      <div class="logo-icon">üåø</div>
      <div class="logo-text">Read<span>Ease</span></div>
    </div>
    <div class="header-right">
      <div class="day-pill" id="day-pill">Day 1 ¬∑ Session 1</div>
    </div>
  </header>

  <!-- LANGUAGE SELECTOR -->
  <div class="lang-strip">
    <button class="lang-btn active" id="lang-en" onclick="switchLang('en')"><span class="lang-flag">üá¨üáß</span> English</button>
    <button class="lang-btn" id="lang-hi" onclick="switchLang('hi')"><span class="lang-flag">üáÆüá≥</span> ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
    <button class="lang-btn" id="lang-pa" onclick="switchLang('pa')"><span class="lang-flag">üáÆüá≥</span> ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä</button>
  </div>

  <!-- START BOX -->
  <div class="start-box">
    <div class="start-words">
      <h2 id="sb-title">Ready to read? üìñ</h2>
      <p id="sb-desc">Words light up <strong>one at a time</strong> ‚Äî no buttons to press.<br>Tricky words show their syllables to help you read them!</p>
    </div>
    <button id="big-start-btn" onclick="beginSession()">‚ñ∂ Start Reading</button>
  </div>

  <!-- SPEED + PAUSE -->
  <div class="controls-row">
    <label id="speed-label">‚è± Reading pace:</label>
    <input type="range" id="speed-slider" min="1" max="5" value="2" oninput="updateSpeedLabel(this.value)">
    <span class="speed-lbl" id="speed-lbl">Slow</span>
    <button id="pause-btn" onclick="togglePause()">‚è∏ Pause</button>
  </div>

  <!-- TOOLS -->
  <div class="tools-strip">
    <button class="tb" id="tb-chunk"  onclick="toggleTool('chunk')"><span class="ic">üì¶</span> Chunk Mode</button>
    <button class="tb" id="tb-focus"  onclick="toggleTool('focus')"><span class="ic">üî¶</span> Focus Mode</button>
    <button class="tb" id="tb-simple" onclick="toggleTool('simple')"><span class="ic">‚ú®</span> Big Text</button>
    <button class="tb" id="tb-speech" onclick="toggleTool('speech')"><span class="ic">üîä</span> Read Aloud</button>
  </div>

  <!-- PASSAGE CARD -->
  <div class="passage-card">
    <div class="prog-strip"><div class="prog-fill" id="prog-fill"></div></div>
    <div class="passage-inner">
      <div class="p-header">
        <span class="p-title" id="p-title">üìñ Today's Story ‚Äî The Forest</span>
        <span class="p-counter" id="p-counter">Line ‚Äî / ‚Äî</span>
      </div>
      <div id="sent-box">
        <div class="idle-msg">
          <span>üå±</span>
          Press <strong>Start Reading</strong> above.<br>
          Each word lights up one by one ‚Äî just follow the glow!
        </div>
      </div>
    </div>
  </div>

  <!-- BOTTOM CONTROLS -->
  <div class="bottom-btns">
    <button class="btn btn-alt" onclick="resetSession()">üîÑ Start Over</button>
    <button class="btn btn-end" onclick="endSession()">üèÅ Finish &amp; See Results</button>
  </div>

</div>

<div class="tip" id="tooltip"></div>

<div class="overlay" id="overlay">
  <div class="sum-card">
    <span class="big-e">üåü</span>
    <h2 id="sum-title">Well done!</h2>
    <p class="sub" id="sum-sub">You finished today's reading. Every line you read builds your strength!</p>
    <div class="sum-stats">
      <div class="ss"><div class="v" id="s-lines">‚Äî</div><div class="l" id="s-lines-label">Lines Read</div></div>
      <div class="ss"><div class="v" id="s-time">‚Äî</div><div class="l" id="s-time-label">Seconds</div></div>
    </div>
    <p class="sum-msg"  id="s-msg">You kept going ‚Äî that's what matters most.</p>
    <p class="sum-next" id="s-next">üå± Come back tomorrow for a new story.</p>
    <button class="btn-close" onclick="closeOverlay()" id="sum-close-btn">‚úì Close &amp; Save</button>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  PASSAGES ‚Äî English, Hindi, Punjabi (3 days each)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const ALL_PASSAGES = {
  en: [
    [ // Day 1 ‚Äî Forest
      "The forest wakes up slowly each morning.",
      "Light comes in through the tops of the trees.",
      "Small birds start to sing soft, gentle songs.",
      "Their voices drift between the tall, old trees.",
      "A stream runs nearby with a quiet sound.",
      "It winds past mossy rocks and smooth stones.",
      "The air smells clean ‚Äî like pine and wet earth.",
      "That smell feels both calm and very alive.",
      "In this quiet place, time slows right down.",
      "Leaves move gently in a soft, cool breeze.",
      "A small creature darts across the forest floor.",
      "Everything here is linked to everything else.",
      "The roots below feed the tall trees above.",
      "Tiny fungi spread through the soft, dark soil.",
      "Birds carry seeds far across the land.",
      "Nature shows us how to work together ‚Äî every single day."
    ],
    [ // Day 2 ‚Äî Ocean
      "The ocean stretches out as far as you can see.",
      "Waves roll gently onto the sandy shore.",
      "Seagulls call as they glide over the water.",
      "The salt air fills your lungs with every breath.",
      "Tide pools hide small crabs and colorful shells.",
      "Dolphins sometimes leap beyond the crashing waves.",
      "Sandpipers race along the wet edge of the sea.",
      "The sun sparkles like diamonds on the surface.",
      "Seaweed sways just below the clear, cold water.",
      "A gentle breeze carries the scent of salt and summer.",
      "Pelicans dive headfirst to catch their dinner.",
      "The tide comes in, then slowly goes back out.",
      "Barnacles cling tightly to the ancient rocks.",
      "Jellyfish drift with the currents, soft and glowing.",
      "Children build sandcastles near the water's edge.",
      "The ocean reminds us how vast and beautiful the world is."
    ],
    [ // Day 3 ‚Äî Night Sky
      "As the sun sets, the sky turns deep orange and purple.",
      "One by one, stars begin to appear overhead.",
      "The moon rises slowly, casting silver light.",
      "Crickets start their nightly chorus in the grass.",
      "A cool breeze whispers through the darkening trees.",
      "Bats flutter silently, hunting for insects.",
      "The Milky Way stretches like a river of light.",
      "Shooting stars race across the sky in an instant.",
      "Owls call to each other from far away.",
      "Fireflies blink in the meadow like tiny lanterns.",
      "The night air smells of dew and sleeping flowers.",
      "Planets shine steadily among the twinkling stars.",
      "A satellite moves slowly across the darkness.",
      "The world feels peaceful and full of wonder.",
      "Night wraps everything in a soft, quiet blanket.",
      "Tomorrow the sun will rise again, but tonight belongs to the stars."
    ]
  ],

  hi: [
    [ // Day 1 ‚Äî ‡§ú‡§Ç‡§ó‡§≤ (Forest)
      "‡§ú‡§Ç‡§ó‡§≤ ‡§π‡§∞ ‡§∏‡•Å‡§¨‡§π ‡§ß‡•Ä‡§∞‡•á-‡§ß‡•Ä‡§∞‡•á ‡§ú‡§æ‡§ó‡§§‡§æ ‡§π‡•à‡•§",
      "‡§™‡•á‡§°‡§º‡•ã‡§Ç ‡§ï‡•Ä ‡§ö‡•ã‡§ü‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§Ü‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§õ‡•ã‡§ü‡•á ‡§™‡§ï‡•ç‡§∑‡•Ä ‡§Æ‡•Ä‡§†‡•á, ‡§ï‡•ã‡§Æ‡§≤ ‡§ó‡§æ‡§®‡•á ‡§ó‡§æ‡§®‡•á ‡§≤‡§ó‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§â‡§®‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º‡•á‡§Ç ‡§™‡•Å‡§∞‡§æ‡§®‡•á, ‡§ä‡§Å‡§ö‡•á ‡§™‡•á‡§°‡§º‡•ã‡§Ç ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§§‡•à‡§∞‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",
      "‡§™‡§æ‡§∏ ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§®‡§æ‡§≤‡§æ ‡§ß‡•Ä‡§∞‡•á-‡§ß‡•Ä‡§∞‡•á ‡§¨‡§π‡§§‡§æ ‡§π‡•à‡•§",
      "‡§µ‡§π ‡§ï‡§æ‡§à-‡§¢‡§ï‡•á ‡§™‡§§‡•ç‡§•‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§™‡§æ‡§∏ ‡§∏‡•á ‡§ó‡•Å‡§ú‡§º‡§∞‡§§‡§æ ‡§π‡•à‡•§",
      "‡§π‡§µ‡§æ ‡§Æ‡•á‡§Ç ‡§ö‡•Ä‡§°‡§º ‡§î‡§∞ ‡§ó‡•Ä‡§≤‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡•Ä ‡§ñ‡•Å‡§∂‡§¨‡•Ç ‡§π‡•à‡•§",
      "‡§µ‡§π ‡§ñ‡•Å‡§∂‡§¨‡•Ç ‡§∂‡§æ‡§Ç‡§§ ‡§î‡§∞ ‡§§‡§æ‡§ú‡§º‡§ó‡•Ä ‡§≠‡§∞‡•Ä ‡§≤‡§ó‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§á‡§∏ ‡§∂‡§æ‡§Ç‡§§ ‡§ú‡§ó‡§π ‡§™‡§∞ ‡§∏‡§Æ‡§Ø ‡§ß‡•Ä‡§Æ‡§æ ‡§™‡§°‡§º ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§",
      "‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å ‡§†‡§Ç‡§°‡•Ä, ‡§ï‡•ã‡§Æ‡§≤ ‡§π‡§µ‡§æ ‡§Æ‡•á‡§Ç ‡§π‡§ø‡§≤‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",
      "‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ ‡§ú‡§æ‡§®‡§µ‡§∞ ‡§ú‡§Ç‡§ó‡§≤ ‡§ï‡•Ä ‡§ú‡§º‡§Æ‡•Ä‡§® ‡§™‡§∞ ‡§¶‡•å‡§°‡§º‡§§‡§æ ‡§π‡•à‡•§",
      "‡§Ø‡§π‡§æ‡§Å ‡§π‡§∞ ‡§ö‡•Ä‡§ú‡§º ‡§è‡§ï-‡§¶‡•Ç‡§∏‡§∞‡•á ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•Ä ‡§π‡•Å‡§à ‡§π‡•à‡•§",
      "‡§®‡•Ä‡§ö‡•á ‡§ï‡•Ä ‡§ú‡§°‡§º‡•á‡§Ç ‡§ä‡§™‡§∞ ‡§ï‡•á ‡§™‡•á‡§°‡§º‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•ã‡§∑‡§£ ‡§¶‡•á‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",
      "‡§õ‡•ã‡§ü‡•Ä-‡§õ‡•ã‡§ü‡•Ä ‡§´‡§´‡•Ç‡§Å‡§¶ ‡§®‡§∞‡§Æ, ‡§ï‡§æ‡§≤‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§´‡•à‡§≤‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§™‡§ï‡•ç‡§∑‡•Ä ‡§¶‡•Ç‡§∞-‡§¶‡•Ç‡§∞ ‡§§‡§ï ‡§¨‡•Ä‡§ú ‡§≤‡•á ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§™‡•ç‡§∞‡§ï‡•É‡§§‡§ø ‡§π‡§Æ‡•á‡§Ç ‡§π‡§∞ ‡§¶‡§ø‡§® ‡§Æ‡§ø‡§≤‡§ï‡§∞ ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§§‡•Ä ‡§π‡•à‡•§"
    ],
    [ // Day 2 ‚Äî ‡§®‡§¶‡•Ä (River)
      "‡§®‡§¶‡•Ä ‡§™‡§π‡§æ‡§°‡§º‡•ã‡§Ç ‡§∏‡•á ‡§®‡•Ä‡§ö‡•á ‡§ï‡•Ä ‡§ì‡§∞ ‡§¨‡§π‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§â‡§∏‡§ï‡§æ ‡§™‡§æ‡§®‡•Ä ‡§è‡§ï‡§¶‡§Æ ‡§∏‡§æ‡§´ ‡§î‡§∞ ‡§†‡§Ç‡§°‡§æ ‡§π‡•à‡•§",
      "‡§ï‡§ø‡§®‡§æ‡§∞‡•á ‡§™‡§∞ ‡§∞‡§Ç‡§ó-‡§¨‡§ø‡§∞‡§Ç‡§ó‡•á ‡§™‡§§‡•ç‡§•‡§∞ ‡§ö‡§Æ‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§Æ‡§õ‡§≤‡§ø‡§Ø‡§æ‡§Å ‡§™‡§æ‡§®‡•Ä ‡§Æ‡•á‡§Ç ‡§§‡•á‡§ú‡§º‡•Ä ‡§∏‡•á ‡§§‡•à‡§∞‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",
      "‡§¨‡§ó‡•Å‡§≤‡•á ‡§ï‡§ø‡§®‡§æ‡§∞‡•á ‡§™‡§∞ ‡§ñ‡§°‡§º‡•á ‡§π‡•ã‡§ï‡§∞ ‡§∂‡§ø‡§ï‡§æ‡§∞ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§¨‡§ö‡•ç‡§ö‡•á ‡§â‡§•‡§≤‡•á ‡§™‡§æ‡§®‡•Ä ‡§Æ‡•á‡§Ç ‡§ñ‡•á‡§≤‡§§‡•á ‡§î‡§∞ ‡§π‡§Å‡§∏‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§®‡§¶‡•Ä ‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§¨‡§π‡•Å‡§§ ‡§Æ‡•Ä‡§†‡•Ä ‡§î‡§∞ ‡§∏‡•Å‡§ï‡•Ç‡§® ‡§¶‡•á‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§π‡•à‡•§",
      "‡§™‡•á‡§°‡§º ‡§®‡§¶‡•Ä ‡§ï‡•á ‡§ï‡§ø‡§®‡§æ‡§∞‡•á ‡§Ö‡§™‡§®‡•Ä ‡§™‡§∞‡§õ‡§æ‡§à‡§Ç ‡§°‡§æ‡§≤‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§§‡§ø‡§§‡§≤‡§ø‡§Ø‡§æ‡§Å ‡§´‡•Ç‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§Æ‡§Å‡§°‡§∞‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",
      "‡§¶‡•ã‡§™‡§π‡§∞ ‡§ï‡•Ä ‡§ß‡•Ç‡§™ ‡§™‡§æ‡§®‡•Ä ‡§™‡§∞ ‡§ö‡§Æ‡§ï‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§®‡§¶‡•Ä ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡§§‡•Ä ‡§∞‡§π‡§§‡•Ä ‡§π‡•à, ‡§∞‡•Å‡§ï‡§§‡•Ä ‡§®‡§π‡•Ä‡§Ç‡•§",
      "‡§µ‡§π ‡§Æ‡•à‡§¶‡§æ‡§®‡•ã‡§Ç ‡§î‡§∞ ‡§ó‡§æ‡§Å‡§µ‡•ã‡§Ç ‡§∏‡•á ‡§π‡•ã‡§ï‡§∞ ‡§ó‡•Å‡§ú‡§º‡§∞‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§ï‡§ø‡§∏‡§æ‡§® ‡§â‡§∏‡§ï‡•á ‡§™‡§æ‡§®‡•Ä ‡§∏‡•á ‡§Ö‡§™‡§®‡•Ä ‡§´‡§∏‡§≤ ‡§∏‡•Ä‡§Ç‡§ö‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§®‡§¶‡•Ä ‡§∏‡§¨‡§ï‡•ã ‡§ú‡•Ä‡§µ‡§® ‡§¶‡•á‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§∂‡§æ‡§Æ ‡§ï‡•ã ‡§∏‡•Ç‡§∞‡§ú ‡§®‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§°‡•Ç‡§¨‡§§‡§æ ‡§π‡•Å‡§Ü ‡§¶‡§ø‡§ñ‡§§‡§æ ‡§π‡•à‡•§",
      "‡§®‡§¶‡•Ä ‡§ï‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä ‡§ï‡§≠‡•Ä ‡§ñ‡§§‡•ç‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡•Ä‡•§"
    ],
    [ // Day 3 ‚Äî ‡§Ü‡§∏‡§Æ‡§æ‡§® (Sky)
      "‡§∏‡•Ç‡§∞‡§ú ‡§¢‡§≤‡§®‡•á ‡§™‡§∞ ‡§Ü‡§∏‡§Æ‡§æ‡§® ‡§®‡§æ‡§∞‡§Ç‡§ó‡•Ä ‡§î‡§∞ ‡§¨‡•à‡§Ç‡§ó‡§®‡•Ä ‡§π‡•ã ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§",
      "‡§è‡§ï-‡§è‡§ï ‡§ï‡§∞ ‡§§‡§æ‡§∞‡•á ‡§®‡§ø‡§ï‡§≤‡§®‡•á ‡§≤‡§ó‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§ö‡§æ‡§Å‡§¶ ‡§ß‡•Ä‡§∞‡•á-‡§ß‡•Ä‡§∞‡•á ‡§â‡§ó‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§ö‡§æ‡§Å‡§¶‡§®‡•Ä ‡§¨‡§ø‡§ñ‡•á‡§∞‡§§‡§æ ‡§π‡•à‡•§",
      "‡§∞‡§æ‡§§ ‡§ï‡•á ‡§Ö‡§Å‡§ß‡•á‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ù‡•Ä‡§Ç‡§ó‡•Å‡§∞ ‡§¨‡•ã‡§≤‡§®‡•á ‡§≤‡§ó‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§†‡§Ç‡§°‡•Ä ‡§π‡§µ‡§æ ‡§™‡•á‡§°‡§º‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡§∞‡§∏‡§∞‡§æ‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§ö‡§Æ‡§ó‡§æ‡§¶‡§°‡§º ‡§ö‡•Å‡§™‡§ö‡§æ‡§™ ‡§â‡§°‡§º‡§ï‡§∞ ‡§ï‡•Ä‡§°‡§º‡•á ‡§™‡§ï‡§°‡§º‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§Ü‡§ï‡§æ‡§∂‡§ó‡§Ç‡§ó‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§ï‡•Ä ‡§®‡§¶‡•Ä ‡§ú‡•à‡§∏‡•Ä ‡§¶‡§ø‡§ñ‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§ü‡•Ç‡§ü‡§§‡•á ‡§§‡§æ‡§∞‡•á ‡§™‡§≤ ‡§≠‡§∞ ‡§Æ‡•á‡§Ç ‡§Ü‡§ï‡§æ‡§∂ ‡§™‡§æ‡§∞ ‡§ï‡§∞ ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§â‡§≤‡•ç‡§≤‡•Ç ‡§è‡§ï-‡§¶‡•Ç‡§∏‡§∞‡•á ‡§ï‡•ã ‡§¶‡•Ç‡§∞ ‡§∏‡•á ‡§™‡•Å‡§ï‡§æ‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§ú‡•Å‡§ó‡§®‡•Ç ‡§ò‡§æ‡§∏ ‡§ï‡•á ‡§Æ‡•à‡§¶‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§ü‡§ø‡§Æ‡§ü‡§ø‡§Æ‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§∞‡§æ‡§§ ‡§ï‡•Ä ‡§π‡§µ‡§æ ‡§Æ‡•á‡§Ç ‡§ì‡§∏ ‡§î‡§∞ ‡§∏‡•ã‡§è ‡§π‡•Å‡§è ‡§´‡•Ç‡§≤‡•ã‡§Ç ‡§ï‡•Ä ‡§ñ‡•Å‡§∂‡§¨‡•Ç ‡§π‡•à‡•§",
      "‡§ó‡•ç‡§∞‡§π ‡§ü‡§ø‡§Æ‡§ü‡§ø‡§Æ‡§æ‡§§‡•á ‡§§‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§∏‡•ç‡§•‡§ø‡§∞ ‡§ö‡§Æ‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
      "‡§è‡§ï ‡§â‡§™‡§ó‡•ç‡§∞‡§π ‡§Ö‡§Å‡§ß‡•á‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ß‡•Ä‡§∞‡•á-‡§ß‡•Ä‡§∞‡•á ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡§§‡§æ ‡§π‡•à‡•§",
      "‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§∂‡§æ‡§Ç‡§§ ‡§î‡§∞ ‡§Ö‡§¶‡•ç‡§≠‡•Å‡§§ ‡§≤‡§ó‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§∞‡§æ‡§§ ‡§∏‡§¨‡§ï‡•ã ‡§è‡§ï ‡§®‡§∞‡§Æ, ‡§∂‡§æ‡§Ç‡§§ ‡§ö‡§æ‡§¶‡§∞ ‡§Æ‡•á‡§Ç ‡§≤‡§™‡•á‡§ü ‡§≤‡•á‡§§‡•Ä ‡§π‡•à‡•§",
      "‡§ï‡§≤ ‡§´‡§ø‡§∞ ‡§∏‡•Ç‡§∞‡§ú ‡§â‡§ó‡•á‡§ó‡§æ, ‡§™‡§∞ ‡§Ü‡§ú ‡§ï‡•Ä ‡§∞‡§æ‡§§ ‡§§‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§π‡•à‡•§"
    ]
  ],

  pa: [
    [ // Day 1 ‚Äî ‡®ú‡©∞‡®ó‡®≤ (Forest)
      "‡®ú‡©∞‡®ó‡®≤ ‡®π‡®∞ ‡®∏‡®µ‡©á‡®∞‡©á ‡®π‡©å‡®≤‡©Ä-‡®π‡©å‡®≤‡©Ä ‡®ú‡®æ‡®ó‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®∞‡©Å‡©±‡®ñ‡®æ‡®Ç ‡®¶‡©Ä‡®Ü‡®Ç ‡®ü‡®æ‡®π‡®£‡©Ä‡®Ü‡®Ç ‡®§‡©ã‡®Ç ‡®∞‡©ã‡®∏‡®º‡®®‡©Ä ‡®Ü‡®â‡®Ç‡®¶‡©Ä ‡®π‡©à‡•§",
      "‡®õ‡©ã‡®ü‡©á ‡®™‡©∞‡®õ‡©Ä ‡®Æ‡®ø‡©±‡®†‡©á, ‡®ï‡©ã‡®Æ‡®≤ ‡®ó‡©Ä‡®§ ‡®ó‡®æ‡®â‡®£ ‡®≤‡©±‡®ó‡®¶‡©á ‡®π‡®®‡•§",
      "‡®â‡®π‡®®‡®æ‡®Ç ‡®¶‡©Ä‡®Ü‡®Ç ‡®Ü‡®µ‡®æ‡®ú‡®º‡®æ‡®Ç ‡®™‡©Å‡®∞‡®æ‡®£‡©á ‡®∞‡©Å‡©±‡®ñ‡®æ‡®Ç ‡®µ‡®ø‡®ö‡®ï‡®æ‡®∞ ‡®§‡©à‡®∞‡®¶‡©Ä‡®Ü‡®Ç ‡®π‡®®‡•§",
      "‡®®‡©á‡©ú‡©á ‡®á‡©±‡®ï ‡®®‡®æ‡®≤‡®æ ‡®ß‡©Ä‡®Æ‡©Ä ‡®Ü‡®µ‡®æ‡®ú‡®º ‡®®‡®æ‡®≤ ‡®µ‡®π‡®ø‡©∞‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®á‡®π ‡®ï‡®æ‡®à ‡®®‡®æ‡®≤ ‡®¢‡©±‡®ï‡©á ‡®™‡©±‡®•‡®∞‡®æ‡®Ç ‡®ï‡©ã‡®≤‡©ã‡®Ç ‡®≤‡©∞‡®ò‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®π‡®µ‡®æ ‡®µ‡®ø‡©±‡®ö ‡®ö‡©Ä‡®≤‡©ç‡®π ‡®Ö‡®§‡©á ‡®ó‡®ø‡©±‡®≤‡©Ä ‡®Æ‡®ø‡©±‡®ü‡©Ä ‡®¶‡©Ä ‡®Æ‡®π‡®ø‡®ï ‡®π‡©à‡•§",
      "‡®â‡®π ‡®ñ‡©Å‡®∏‡®º‡®¨‡©Ç ‡®∏‡®º‡®æ‡®Ç‡®§ ‡®Ö‡®§‡©á ‡®§‡®æ‡®ú‡®º‡®ó‡©Ä ‡®≠‡®∞‡©Ä ‡®≤‡©±‡®ó‡®¶‡©Ä ‡®π‡©à‡•§",
      "‡®á‡®∏ ‡®∏‡®º‡®æ‡®Ç‡®§ ‡®ú‡®ó‡©ç‡®π‡®æ '‡®§‡©á ‡®∏‡®Æ‡®æ‡®Ç ‡®ß‡©Ä‡®Æ‡®æ ‡®™‡©à ‡®ú‡®æ‡®Ç‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®™‡©±‡®§‡©á ‡®†‡©∞‡®°‡©Ä, ‡®ï‡©ã‡®Æ‡®≤ ‡®π‡®µ‡®æ ‡®µ‡®ø‡©±‡®ö ‡®π‡®ø‡©±‡®≤‡®¶‡©á ‡®π‡®®‡•§",
      "‡®á‡©±‡®ï ‡®õ‡©ã‡®ü‡®æ ‡®ú‡®æ‡®®‡®µ‡®∞ ‡®ú‡©∞‡®ó‡®≤ ‡®¶‡©Ä ‡®ú‡®º‡®Æ‡©Ä‡®® '‡®§‡©á ‡®¶‡©å‡©ú‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®á‡©±‡®•‡©á ‡®π‡®∞ ‡®ö‡©Ä‡®ú‡®º ‡®á‡©±‡®ï-‡®¶‡©Ç‡®ú‡©Ä ‡®®‡®æ‡®≤ ‡®ú‡©Å‡©ú‡©Ä ‡®π‡©ã‡®à ‡®π‡©à‡•§",
      "‡®π‡©á‡®†‡®æ‡®Ç ‡®¶‡©Ä‡®Ü‡®Ç ‡®ú‡©ú‡©ç‡®π‡®æ‡®Ç ‡®â‡©±‡®™‡®∞ ‡®¶‡©á ‡®∞‡©Å‡©±‡®ñ‡®æ‡®Ç ‡®®‡©Ç‡©∞ ‡®ñ‡©Å‡®∞‡®æ‡®ï ‡®¶‡®ø‡©∞‡®¶‡©Ä‡®Ü‡®Ç ‡®π‡®®‡•§",
      "‡®õ‡©ã‡®ü‡©Ä‡®Ü‡®Ç ‡®â‡©±‡®≤‡©Ä‡®Ü‡®Ç ‡®®‡®∞‡®Æ, ‡®ï‡®æ‡®≤‡©Ä ‡®Æ‡®ø‡©±‡®ü‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®´‡©à‡®≤‡®¶‡©Ä‡®Ü‡®Ç ‡®π‡®®‡•§",
      "‡®™‡©∞‡®õ‡©Ä ‡®¶‡©Ç‡®∞-‡®¶‡©Ç‡®∞ ‡®§‡©±‡®ï ‡®¨‡©Ä‡®ú ‡®≤‡©à ‡®ú‡®æ‡®Ç‡®¶‡©á ‡®π‡®®‡•§",
      "‡®ï‡©Å‡®¶‡®∞‡®§ ‡®∏‡®æ‡®®‡©Ç‡©∞ ‡®π‡®∞ ‡®∞‡©ã‡®ú‡®º ‡®Æ‡®ø‡®≤-‡®ú‡©Å‡®≤ ‡®ï‡©á ‡®ï‡©∞‡®Æ ‡®ï‡®∞‡®®‡®æ ‡®∏‡®ø‡®ñ‡®æ‡®â‡®Ç‡®¶‡©Ä ‡®π‡©à‡•§"
    ],
    [ // Day 2 ‚Äî ‡®¶‡®∞‡®ø‡®Ü (River)
      "‡®¶‡®∞‡®ø‡®Ü ‡®™‡®π‡®æ‡©ú‡®æ‡®Ç ‡®§‡©ã‡®Ç ‡®π‡©á‡®†‡®æ‡®Ç ‡®µ‡©±‡®≤ ‡®µ‡®π‡®ø‡©∞‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®á‡®∏‡®¶‡®æ ‡®™‡®æ‡®£‡©Ä ‡®¨‡®ø‡®≤‡®ï‡©Å‡®≤ ‡®∏‡®æ‡®´‡®º ‡®Ö‡®§‡©á ‡®†‡©∞‡®°‡®æ ‡®π‡©à‡•§",
      "‡®ï‡©∞‡®¢‡©á '‡®§‡©á ‡®∞‡©∞‡®ó-‡®¨‡®ø‡®∞‡©∞‡®ó‡©á ‡®™‡©±‡®•‡®∞ ‡®ö‡®Æ‡®ï‡®¶‡©á ‡®π‡®®‡•§",
      "‡®Æ‡©±‡®õ‡©Ä‡®Ü‡®Ç ‡®™‡®æ‡®£‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®§‡©á‡®ú‡®º‡©Ä ‡®®‡®æ‡®≤ ‡®§‡©à‡®∞‡®¶‡©Ä‡®Ü‡®Ç ‡®π‡®®‡•§",
      "‡®¨‡®ó‡®≤‡©á ‡®ï‡©∞‡®¢‡©á '‡®§‡©á ‡®ñ‡©ú‡©ç‡®π‡©á ‡®π‡©ã ‡®ï‡©á ‡®Æ‡©±‡®õ‡©Ä‡®Ü‡®Ç ‡®´‡©ú‡®¶‡©á ‡®π‡®®‡•§",
      "‡®¨‡©±‡®ö‡©á ‡®ñ‡©ã‡®ñ‡®≤‡©á ‡®™‡®æ‡®£‡©Ä ‡®µ‡®ø‡©±‡®ö ‡®ñ‡©á‡®°‡®¶‡©á ‡®Ö‡®§‡©á ‡®π‡©±‡®∏‡®¶‡©á ‡®π‡®®‡•§",
      "‡®¶‡®∞‡®ø‡®Ü ‡®¶‡©Ä ‡®Ü‡®µ‡®æ‡®ú‡®º ‡®¨‡®π‡©Å‡®§ ‡®Æ‡®ø‡©±‡®†‡©Ä ‡®Ö‡®§‡©á ‡®∏‡©Å‡®ï‡©Ç‡®® ‡®≠‡®∞‡©Ä ‡®π‡©à‡•§",
      "‡®∞‡©Å‡©±‡®ñ ‡®¶‡®∞‡®ø‡®Ü ‡®¶‡©á ‡®ï‡©∞‡®¢‡©á ‡®Ü‡®™‡®£‡©Ä ‡®õ‡®æ‡®Ç ‡®™‡®æ‡®â‡®Ç‡®¶‡©á ‡®π‡®®‡•§",
      "‡®§‡®ø‡®§‡®≤‡©Ä‡®Ü‡®Ç ‡®´‡©Å‡©±‡®≤‡®æ‡®Ç ‡®µ‡®ø‡®ö‡®ï‡®æ‡®∞ ‡®Æ‡©∞‡®°‡®∞‡®æ‡®â‡®Ç‡®¶‡©Ä‡®Ü‡®Ç ‡®π‡®®‡•§",
      "‡®¶‡©Å‡®™‡®π‡®ø‡®∞ ‡®¶‡©Ä ‡®ß‡©Å‡©±‡®™ ‡®™‡®æ‡®£‡©Ä '‡®§‡©á ‡®ö‡®Æ‡®ï‡®¶‡©Ä ‡®π‡©à‡•§",
      "‡®¶‡®∞‡®ø‡®Ü ‡®Ö‡©±‡®ó‡©á ‡®µ‡©±‡®ß‡®¶‡®æ ‡®∞‡®π‡®ø‡©∞‡®¶‡®æ ‡®π‡©à, ‡®∞‡©Å‡®ï‡®¶‡®æ ‡®®‡®π‡©Ä‡®Ç‡•§",
      "‡®á‡®π ‡®Æ‡©à‡®¶‡®æ‡®®‡®æ‡®Ç ‡®Ö‡®§‡©á ‡®™‡®ø‡©∞‡®°‡®æ‡®Ç ‡®µ‡®ø‡©±‡®ö‡©ã‡®Ç ‡®≤‡©∞‡®ò‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®ï‡®ø‡®∏‡®æ‡®® ‡®á‡®∏‡®¶‡©á ‡®™‡®æ‡®£‡©Ä ‡®®‡®æ‡®≤ ‡®Ü‡®™‡®£‡©Ä‡®Ü‡®Ç ‡®´‡®º‡®∏‡®≤‡®æ‡®Ç ‡®∏‡®ø‡©∞‡®ú‡®¶‡©á ‡®π‡®®‡•§",
      "‡®¶‡®∞‡®ø‡®Ü ‡®∏‡®≠ ‡®®‡©Ç‡©∞ ‡®ú‡®º‡®ø‡©∞‡®¶‡®ó‡©Ä ‡®¶‡®ø‡©∞‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®∏‡®º‡®æ‡®Æ ‡®®‡©Ç‡©∞ ‡®∏‡©Ç‡®∞‡®ú ‡®¶‡®∞‡®ø‡®Ü ‡®µ‡®ø‡©±‡®ö ‡®°‡©Å‡©±‡®¨‡®¶‡®æ ‡®¶‡®ø‡®ñ‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®¶‡®∞‡®ø‡®Ü ‡®¶‡©Ä ‡®ï‡®π‡®æ‡®£‡©Ä ‡®ï‡®¶‡©á ‡®ñ‡®§‡®Æ ‡®®‡®π‡©Ä‡®Ç ‡®π‡©Å‡©∞‡®¶‡©Ä‡•§"
    ],
    [ // Day 3 ‚Äî ‡®Ö‡®∏‡®Æ‡®æ‡®® (Sky)
      "‡®∏‡©Ç‡®∞‡®ú ‡®¢‡®≤‡®£ '‡®§‡©á ‡®Ö‡®∏‡®Æ‡®æ‡®® ‡®∏‡©∞‡®§‡®∞‡©Ä ‡®Ö‡®§‡©á ‡®ú‡®æ‡®Æ‡®®‡©Ä ‡®π‡©ã ‡®ú‡®æ‡®Ç‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®á‡©±‡®ï-‡®á‡©±‡®ï ‡®ï‡®∞‡®ï‡©á ‡®§‡®æ‡®∞‡©á ‡®®‡®ø‡®ï‡®≤‡®£ ‡®≤‡©±‡®ó‡®¶‡©á ‡®π‡®®‡•§",
      "‡®ö‡©∞‡®¶ ‡®π‡©å‡®≤‡©Ä-‡®π‡©å‡®≤‡©Ä ‡®ö‡©ú‡©ç‡®π‡®¶‡®æ ‡®π‡©à ‡®Ö‡®§‡©á ‡®ö‡®æ‡®Ç‡®¶‡®®‡©Ä ‡®ñ‡®ø‡®≤‡®æ‡®∞‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®∞‡®æ‡®§ ‡®¶‡©á ‡®π‡®®‡©á‡®∞‡©á ‡®µ‡®ø‡©±‡®ö ‡®ù‡©Ä‡®Ç‡®ó‡®∞ ‡®¨‡©ã‡®≤‡®£ ‡®≤‡©±‡®ó‡®¶‡©á ‡®π‡®®‡•§",
      "‡®†‡©∞‡®°‡©Ä ‡®π‡®µ‡®æ ‡®∞‡©Å‡©±‡®ñ‡®æ‡®Ç ‡®µ‡®ø‡©±‡®ö ‡®∏‡®∞‡®∏‡®∞‡®æ‡®â‡®Ç‡®¶‡©Ä ‡®π‡©à‡•§",
      "‡®ö‡®Æ‡®ó‡®ø‡©±‡®¶‡©ú ‡®ö‡©Å‡©±‡®™‡®ö‡®æ‡®™ ‡®â‡©±‡®° ‡®ï‡©á ‡®ï‡©Ä‡©ú‡©á ‡®´‡©ú‡®¶‡©á ‡®π‡®®‡•§",
      "‡®Ü‡®ï‡®æ‡®∏‡®º‡®ó‡©∞‡®ó‡®æ ‡®∞‡©ã‡®∏‡®º‡®®‡©Ä ‡®¶‡©Ä ‡®®‡®¶‡©Ä ‡®µ‡®∞‡®ó‡©Ä ‡®¶‡®ø‡®ñ‡®¶‡©Ä ‡®π‡©à‡•§",
      "‡®ü‡©Å‡©±‡®ü‡®¶‡©á ‡®§‡®æ‡®∞‡©á ‡®™‡®≤ ‡®≠‡®∞ ‡®µ‡®ø‡©±‡®ö ‡®Ö‡®∏‡®Æ‡®æ‡®® ‡®™‡®æ‡®∞ ‡®ï‡®∞ ‡®ú‡®æ‡®Ç‡®¶‡©á ‡®π‡®®‡•§",
      "‡®â‡©±‡®≤‡©Ç ‡®á‡©±‡®ï-‡®¶‡©Ç‡®ú‡©á ‡®®‡©Ç‡©∞ ‡®¶‡©Ç‡®∞‡©ã‡®Ç ‡®™‡©Å‡®ï‡®æ‡®∞‡®¶‡©á ‡®π‡®®‡•§",
      "‡®ú‡©Å‡®ó‡®®‡©Ç‡©∞ ‡®ò‡®æ‡®π ‡®¶‡©á ‡®Æ‡©à‡®¶‡®æ‡®® ‡®µ‡®ø‡©±‡®ö ‡®ü‡®ø‡®Æ‡®ü‡®ø‡®Æ‡®æ‡®â‡®Ç‡®¶‡©á ‡®π‡®®‡•§",
      "‡®∞‡®æ‡®§ ‡®¶‡©Ä ‡®π‡®µ‡®æ ‡®µ‡®ø‡©±‡®ö ‡®§‡©ç‡®∞‡©á‡®≤ ‡®Ö‡®§‡©á ‡®∏‡©Å‡©±‡®§‡©á ‡®´‡©Å‡©±‡®≤‡®æ‡®Ç ‡®¶‡©Ä ‡®ñ‡©Å‡®∏‡®º‡®¨‡©Ç ‡®π‡©à‡•§",
      "‡®ó‡©ç‡®∞‡®π‡®ø ‡®ü‡®ø‡®Æ‡®ü‡®ø‡®Æ‡®æ‡®â‡®Ç‡®¶‡©á ‡®§‡®æ‡®∞‡®ø‡®Ü‡®Ç ‡®µ‡®ø‡®ö‡®ï‡®æ‡®∞ ‡®∏‡®•‡®ø‡®∞ ‡®ö‡®Æ‡®ï‡®¶‡©á ‡®π‡®®‡•§",
      "‡®á‡©±‡®ï ‡®â‡®™‡®ó‡©ç‡®∞‡®π‡®ø ‡®π‡®®‡©á‡®∞‡©á ‡®µ‡®ø‡©±‡®ö ‡®π‡©å‡®≤‡©Ä-‡®π‡©å‡®≤‡©Ä ‡®Ö‡©±‡®ó‡©á ‡®µ‡©±‡®ß‡®¶‡®æ ‡®π‡©à‡•§",
      "‡®¶‡©Å‡®®‡©Ä‡®Ü ‡®∏‡®º‡®æ‡®Ç‡®§ ‡®Ö‡®§‡©á ‡®Ö‡®¶‡®≠‡©Å‡®§ ‡®≤‡©±‡®ó‡®¶‡©Ä ‡®π‡©à‡•§",
      "‡®∞‡®æ‡®§ ‡®∏‡®≠ ‡®®‡©Ç‡©∞ ‡®á‡©±‡®ï ‡®®‡®∞‡®Æ, ‡®∏‡®º‡®æ‡®Ç‡®§ ‡®ö‡®æ‡®¶‡®∞ ‡®µ‡®ø‡©±‡®ö ‡®≤‡®™‡©á‡®ü ‡®≤‡©à‡®Ç‡®¶‡©Ä ‡®π‡©à‡•§",
      "‡®ï‡©±‡®≤‡©ç‡®π ‡®´‡®ø‡®∞ ‡®∏‡©Ç‡®∞‡®ú ‡®ö‡©ú‡©ç‡®π‡©á‡®ó‡®æ, ‡®™‡®∞ ‡®Ö‡©±‡®ú ‡®¶‡©Ä ‡®∞‡®æ‡®§ ‡®§‡®æ‡®∞‡®ø‡®Ü‡®Ç ‡®¶‡©Ä ‡®π‡©à‡•§"
    ]
  ]
};

// Tricky words for English only (syllable breakdowns)
const TRICKY = {
  forest:   { syl:["for","est"],       tip:"A large area full of trees" },
  morning:  { syl:["morn","ing"],      tip:"The early part of the day" },
  gentle:   { syl:["gen","tle"],       tip:"Very soft and kind" },
  gently:   { syl:["gent","ly"],       tip:"In a very soft and kind way" },
  voices:   { syl:["voi","ces"],       tip:"The sounds people or animals make" },
  between:  { syl:["be","tween"],      tip:"In the middle of two things" },
  nearby:   { syl:["near","by"],       tip:"Not far away; close" },
  mossy:    { syl:["moss","y"],        tip:"Covered in soft green moss" },
  breeze:   { syl:["breeze"],          tip:"A light, gentle wind" },
  creature: { syl:["crea","ture"],     tip:"Any living animal" },
  across:   { syl:["a","cross"],       tip:"From one side to the other" },
  everything:{ syl:["eve","ry","thing"], tip:"All things together" },
  linked:   { syl:["linked"],          tip:"Joined and connected together" },
  below:    { syl:["be","low"],        tip:"Underneath; lower down" },
  above:    { syl:["a","bove"],        tip:"Higher up; over something" },
  fungi:    { syl:["fun","gi"],        tip:"Tiny living things in the soil" },
  carries:  { syl:["car","ries"],      tip:"Takes something from one place to another" },
  nature:   { syl:["na","ture"],       tip:"The natural world of plants and animals" },
  together: { syl:["to","geth","er"],  tip:"All working as one" },
  single:   { syl:["sin","gle"],       tip:"Just one" },
  ocean:    { syl:["o","cean"],        tip:"The vast salt water that covers most of Earth" },
  waves:    { syl:["waves"],           tip:"Ridges of water that move across the surface" },
  seagulls: { syl:["sea","gulls"],     tip:"Birds that live near the coast" },
  dolphins: { syl:["dol","phins"],     tip:"Intelligent sea mammals" },
  sandpipers:{ syl:["sand","pi","pers"], tip:"Small birds that run on beaches" },
  seaweed:  { syl:["sea","weed"],      tip:"Plants that grow in the ocean" },
  pelicans: { syl:["pel","i","cans"],  tip:"Large birds with long beaks that fish" },
  barnacles:{ syl:["bar","na","cles"], tip:"Small shelled animals that stick to rocks" },
  jellyfish:{ syl:["jel","ly","fish"], tip:"Soft sea creatures that can sting" },
  chorus:   { syl:["cho","rus"],       tip:"A group of singers; many sounds together" },
  satellite:{ syl:["sat","el","lite"], tip:"An object that orbits a planet" }
};

// UI string translations
const UI_STRINGS = {
  en: {
    sbTitle: "Ready to read? üìñ",
    sbDesc: "Words light up <strong>one at a time</strong> ‚Äî no buttons to press.<br>Tricky words show their syllables to help you read them!",
    startBtn: "‚ñ∂ Start Reading",
    reading: "Reading‚Ä¶",
    speedLabel: "‚è± Reading pace:",
    speeds: {1:"Very Slow", 2:"Slow", 3:"Medium", 4:"Fast", 5:"Very Fast"},
    pause: "‚è∏ Pause",
    resume: "‚ñ∂ Resume",
    idleMsg: "Press <strong>Start Reading</strong> above.<br>Each word lights up one by one ‚Äî just follow the glow!",
    doneMsg: "You read the whole story ‚Äî amazing work!",
    pTitle: "üìñ Today's Story",
    sumTitle: "Well done!",
    sumSub: "You finished today's reading. Every line you read builds your strength!",
    linesLabel: "Lines Read",
    timeLabel: "Seconds",
    sumMsg: "You did it! Every line you read makes you stronger.",
    sumNext: "üå± Come back tomorrow for a new story.",
    sumClose: "‚úì Close & Save",
    stories: ["The Forest","The Ocean","The Night Sky"],
    toastStart: "‚ú® Words will glow one at a time ‚Äî just follow along!",
    toastReset: "All clear! Ready when you are üå±",
    toastDone: "üåü You read every single word ‚Äî brilliant!",
    toastClose: "Great work today! See you next time üåø",
    toastPause: "‚è∏ Paused ‚Äî take your time, no rush at all!",
    toastResume: "‚ñ∂ Continuing‚Ä¶",
    toastTricky: "‚ú® You clicked a tricky word ‚Äî the syllables help you read it!",
    toastSpeechOn: "üîä Read Aloud on ‚Äî words will be spoken",
    toastSpeechOff: "üîá Read Aloud off",
    toastNoStart: "Press Start Reading first!",
    toastChunk: "üì¶ Chunk Mode on ‚Äî looser, bigger layout",
    toastFocus: "üî¶ Focus Mode on ‚Äî more space between every word",
    toastSimple: "‚ú® Big Text on ‚Äî nice and large!",
    toastModeOff: "Mode turned off",
    lang: "en-US"
  },
  hi: {
    sbTitle: "‡§™‡§¢‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞? üìñ",
    sbDesc: "‡§∂‡§¨‡•ç‡§¶ <strong>‡§è‡§ï-‡§è‡§ï ‡§ï‡§∞‡§ï‡•á</strong> ‡§∞‡•ã‡§∂‡§® ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç ‚Äî ‡§ï‡•ã‡§à ‡§¨‡§ü‡§® ‡§®‡§π‡•Ä‡§Ç ‡§¶‡§¨‡§æ‡§®‡§æ‡•§<br>‡§Æ‡•Å‡§∂‡•ç‡§ï‡§ø‡§≤ ‡§∂‡§¨‡•ç‡§¶‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Ö‡§ï‡•ç‡§∑‡§∞-‡§µ‡§ø‡§≠‡§æ‡§ú‡§® ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡§æ!",
    startBtn: "‚ñ∂ ‡§™‡§¢‡§º‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç",
    reading: "‡§™‡§¢‡§º ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‚Ä¶",
    speedLabel: "‚è± ‡§™‡§¢‡§º‡§®‡•á ‡§ï‡•Ä ‡§ó‡§§‡§ø:",
    speeds: {1:"‡§¨‡§π‡•Å‡§§ ‡§ß‡•Ä‡§Æ‡•Ä", 2:"‡§ß‡•Ä‡§Æ‡•Ä", 3:"‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø", 4:"‡§§‡•á‡§ú‡§º", 5:"‡§¨‡§π‡•Å‡§§ ‡§§‡•á‡§ú‡§º"},
    pause: "‚è∏ ‡§∞‡•Å‡§ï‡•á‡§Ç",
    resume: "‚ñ∂ ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç",
    idleMsg: "‡§ä‡§™‡§∞ <strong>‡§™‡§¢‡§º‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</strong> ‡§¶‡§¨‡§æ‡§è‡§Å‡•§<br>‡§π‡§∞ ‡§∂‡§¨‡•ç‡§¶ ‡§è‡§ï-‡§è‡§ï ‡§ï‡§∞‡§ï‡•á ‡§ú‡§ó‡§Æ‡§ó‡§æ‡§è‡§ó‡§æ ‚Äî ‡§¨‡§∏ ‡§â‡§∏‡§ï‡§æ ‡§™‡•Ä‡§õ‡§æ ‡§ï‡§∞‡•á‡§Ç!",
    doneMsg: "‡§Ü‡§™‡§®‡•á ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä ‡§™‡§¢‡§º ‡§≤‡•Ä ‚Äî ‡§∂‡§æ‡§¨‡§æ‡§∂!",
    pTitle: "üìñ ‡§Ü‡§ú ‡§ï‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä",
    sumTitle: "‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ!",
    sumSub: "‡§Ü‡§™‡§®‡•á ‡§Ü‡§ú ‡§ï‡•Ä ‡§™‡§¢‡§º‡§æ‡§à ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡•Ä‡•§ ‡§π‡§∞ ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§î‡§∞ ‡§Æ‡§ú‡§º‡§¨‡•Ç‡§§ ‡§¨‡§®‡§æ‡§§‡•Ä ‡§π‡•à!",
    linesLabel: "‡§™‡§Ç‡§ï‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å ‡§™‡§¢‡§º‡•Ä‡§Ç",
    timeLabel: "‡§∏‡•á‡§ï‡§Ç‡§°",
    sumMsg: "‡§Ü‡§™‡§®‡•á ‡§ï‡§∞ ‡§¶‡§ø‡§ñ‡§æ‡§Ø‡§æ! ‡§π‡§∞ ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§î‡§∞ ‡§¨‡•á‡§π‡§§‡§∞ ‡§¨‡§®‡§æ‡§§‡•Ä ‡§π‡•à‡•§",
    sumNext: "üå± ‡§ï‡§≤ ‡§è‡§ï ‡§®‡§à ‡§ï‡§π‡§æ‡§®‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§è‡§Ç‡•§",
    sumClose: "‚úì ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç",
    stories: ["‡§ú‡§Ç‡§ó‡§≤","‡§®‡§¶‡•Ä","‡§Ü‡§∏‡§Æ‡§æ‡§®"],
    toastStart: "‚ú® ‡§∂‡§¨‡•ç‡§¶ ‡§è‡§ï-‡§è‡§ï ‡§ï‡§∞‡§ï‡•á ‡§ö‡§Æ‡§ï‡•á‡§Ç‡§ó‡•á ‚Äî ‡§¨‡§∏ ‡§â‡§®‡§ï‡§æ ‡§™‡•Ä‡§õ‡§æ ‡§ï‡§∞‡•á‡§Ç!",
    toastReset: "‡§∏‡§¨ ‡§∏‡§æ‡§´‡§º! ‡§ú‡§¨ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã‡§Ç üå±",
    toastDone: "üåü ‡§Ü‡§™‡§®‡•á ‡§π‡§∞ ‡§∂‡§¨‡•ç‡§¶ ‡§™‡§¢‡§º‡§æ ‚Äî ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞!",
    toastClose: "‡§Ü‡§ú ‡§ï‡§æ ‡§ï‡§æ‡§Æ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ ‡§∞‡§π‡§æ! ‡§´‡§ø‡§∞ ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á üåø",
    toastPause: "‚è∏ ‡§∞‡•Å‡§ï‡•á ‚Äî ‡§ú‡§ø‡§§‡§®‡§æ ‡§∏‡§Æ‡§Ø ‡§ö‡§æ‡§π‡§ø‡§è ‡§≤‡•á‡§Ç!",
    toastResume: "‚ñ∂ ‡§ú‡§æ‡§∞‡•Ä ‡§π‡•à‚Ä¶",
    toastTricky: "‚ú® ‡§Ü‡§™‡§®‡•á ‡§è‡§ï ‡§Æ‡•Å‡§∂‡•ç‡§ï‡§ø‡§≤ ‡§∂‡§¨‡•ç‡§¶ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§ø‡§Ø‡§æ!",
    toastSpeechOn: "üîä ‡§ú‡§º‡•ã‡§∞ ‡§∏‡•á ‡§™‡§¢‡§º‡§®‡§æ ‡§ö‡§æ‡§≤‡•Ç ‚Äî ‡§∂‡§¨‡•ç‡§¶ ‡§¨‡•ã‡§≤‡•á ‡§ú‡§æ‡§è‡§Ç‡§ó‡•á",
    toastSpeechOff: "üîá ‡§ú‡§º‡•ã‡§∞ ‡§∏‡•á ‡§™‡§¢‡§º‡§®‡§æ ‡§¨‡§Ç‡§¶",
    toastNoStart: "‡§™‡§π‡§≤‡•á ‡§™‡§¢‡§º‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç!",
    toastChunk: "üì¶ ‡§ö‡§Ç‡§ï ‡§Æ‡•ã‡§° ‡§ö‡§æ‡§≤‡•Ç",
    toastFocus: "üî¶ ‡§´‡•ã‡§ï‡§∏ ‡§Æ‡•ã‡§° ‡§ö‡§æ‡§≤‡•Ç",
    toastSimple: "‚ú® ‡§¨‡§°‡§º‡§æ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ö‡§æ‡§≤‡•Ç",
    toastModeOff: "‡§Æ‡•ã‡§° ‡§¨‡§Ç‡§¶",
    lang: "hi-IN"
  },
  pa: {
    sbTitle: "‡®™‡©ú‡©ç‡®π‡®® ‡®≤‡®à ‡®§‡®ø‡®Ü‡®∞? üìñ",
    sbDesc: "‡®∏‡®º‡®¨‡®¶ <strong>‡®á‡©±‡®ï-‡®á‡©±‡®ï ‡®ï‡®∞‡®ï‡©á</strong> ‡®ú‡®ó‡®Æ‡®ó‡®æ‡®â‡®Ç‡®¶‡©á ‡®π‡®® ‚Äî ‡®ï‡©ã‡®à ‡®¨‡®ü‡®® ‡®®‡®π‡©Ä‡®Ç ‡®¶‡®¨‡®æ‡®â‡®£‡®æ‡•§<br>‡®î‡®ñ‡©á ‡®∏‡®º‡®¨‡®¶‡®æ‡®Ç ‡®µ‡®ø‡©±‡®ö ‡®Ö‡©±‡®ñ‡®∞-‡®µ‡©∞‡®° ‡®¶‡®ø‡®ñ‡®æ‡®à ‡®¶‡©á‡®µ‡©á‡®ó‡©Ä!",
    startBtn: "‚ñ∂ ‡®™‡©ú‡©ç‡®π‡®®‡®æ ‡®∏‡®º‡©Å‡®∞‡©Ç ‡®ï‡®∞‡©ã",
    reading: "‡®™‡©ú‡©ç‡®π ‡®∞‡®π‡©á ‡®π‡®æ‡®Ç‚Ä¶",
    speedLabel: "‚è± ‡®™‡©ú‡©ç‡®π‡®® ‡®¶‡©Ä ‡®ó‡®§‡©Ä:",
    speeds: {1:"‡®¨‡®π‡©Å‡®§ ‡®π‡©å‡®≤‡©Ä", 2:"‡®π‡©å‡®≤‡©Ä", 3:"‡®¶‡®∞‡®Æ‡®ø‡®Ü‡®®‡©Ä", 4:"‡®§‡©á‡®ú‡®º", 5:"‡®¨‡®π‡©Å‡®§ ‡®§‡©á‡®ú‡®º"},
    pause: "‚è∏ ‡®∞‡©Å‡®ï‡©ã",
    resume: "‚ñ∂ ‡®ú‡®æ‡®∞‡©Ä ‡®∞‡©±‡®ñ‡©ã",
    idleMsg: "‡®â‡©±‡®™‡®∞ <strong>‡®™‡©ú‡©ç‡®π‡®®‡®æ ‡®∏‡®º‡©Å‡®∞‡©Ç ‡®ï‡®∞‡©ã</strong> ‡®¶‡®¨‡®æ‡®ì‡•§<br>‡®π‡®∞ ‡®∏‡®º‡®¨‡®¶ ‡®á‡©±‡®ï-‡®á‡©±‡®ï ‡®ï‡®∞‡®ï‡©á ‡®ö‡®Æ‡®ï‡©á‡®ó‡®æ ‚Äî ‡®¨‡©±‡®∏ ‡®â‡®∏ ‡®¶‡®æ ‡®™‡®ø‡©±‡®õ‡®æ ‡®ï‡®∞‡©ã!",
    doneMsg: "‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®™‡©Ç‡®∞‡©Ä ‡®ï‡®π‡®æ‡®£‡©Ä ‡®™‡©ú‡©ç‡®π ‡®≤‡®à ‚Äî ‡®∏‡®º‡®æ‡®¨‡®æ‡®∏‡®º!",
    pTitle: "üìñ ‡®Ö‡©±‡®ú ‡®¶‡©Ä ‡®ï‡®π‡®æ‡®£‡©Ä",
    sumTitle: "‡®¨‡®π‡©Å‡®§ ‡®µ‡®ß‡©Ä‡®Ü!",
    sumSub: "‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®Ö‡©±‡®ú ‡®¶‡©Ä ‡®™‡©ú‡©ç‡®π‡®æ‡®à ‡®™‡©Ç‡®∞‡©Ä ‡®ï‡©Ä‡®§‡©Ä‡•§ ‡®π‡®∞ ‡®∏‡®§‡®∞ ‡®§‡©Å‡®π‡®æ‡®®‡©Ç‡©∞ ‡®π‡©ã‡®∞ ‡®Æ‡®ú‡®º‡®¨‡©Ç‡®§ ‡®¨‡®£‡®æ‡®â‡®Ç‡®¶‡©Ä ‡®π‡©à!",
    linesLabel: "‡®∏‡®§‡®∞‡®æ‡®Ç ‡®™‡©ú‡©ç‡®π‡©Ä‡®Ü‡®Ç",
    timeLabel: "‡®∏‡®ï‡®ø‡©∞‡®ü",
    sumMsg: "‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®ï‡®∞ ‡®¶‡®ø‡®ñ‡®æ‡®á‡®Ü! ‡®π‡®∞ ‡®∏‡®§‡®∞ ‡®§‡©Å‡®π‡®æ‡®®‡©Ç‡©∞ ‡®¨‡®ø‡®π‡®§‡®∞ ‡®¨‡®£‡®æ‡®â‡®Ç‡®¶‡©Ä ‡®π‡©à‡•§",
    sumNext: "üå± ‡®ï‡©±‡®≤‡©ç‡®π ‡®®‡®µ‡©Ä‡®Ç ‡®ï‡®π‡®æ‡®£‡©Ä ‡®≤‡®à ‡®Ü‡®ì‡•§",
    sumClose: "‚úì ‡®¨‡©∞‡®¶ ‡®ï‡®∞‡©ã ‡®Ö‡®§‡©á ‡®∏‡©á‡®µ ‡®ï‡®∞‡©ã",
    stories: ["‡®ú‡©∞‡®ó‡®≤","‡®¶‡®∞‡®ø‡®Ü","‡®Ö‡®∏‡®Æ‡®æ‡®®"],
    toastStart: "‚ú® ‡®∏‡®º‡®¨‡®¶ ‡®á‡©±‡®ï-‡®á‡©±‡®ï ‡®ï‡®∞‡®ï‡©á ‡®ö‡®Æ‡®ï‡®£‡®ó‡©á ‚Äî ‡®¨‡©±‡®∏ ‡®™‡®ø‡©±‡®õ‡®æ ‡®ï‡®∞‡©ã!",
    toastReset: "‡®∏‡®≠ ‡®∏‡®æ‡®´‡®º! ‡®ú‡®¶‡©ã‡®Ç ‡®§‡®ø‡®Ü‡®∞ ‡®π‡©ã üå±",
    toastDone: "üåü ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®π‡®∞ ‡®∏‡®º‡®¨‡®¶ ‡®™‡©ú‡©ç‡®π‡®ø‡®Ü ‚Äî ‡®∏‡®º‡®æ‡®®‡®¶‡®æ‡®∞!",
    toastClose: "‡®Ö‡©±‡®ú ‡®¶‡®æ ‡®ï‡©∞‡®Æ ‡®µ‡®ß‡©Ä‡®Ü ‡®∞‡®ø‡®π‡®æ! ‡®´‡®ø‡®∞ ‡®Æ‡®ø‡®≤‡®æ‡®Ç‡®ó‡©á üåø",
    toastPause: "‚è∏ ‡®∞‡©Å‡®ï‡©ã ‚Äî ‡®ú‡®ø‡©∞‡®®‡®æ ‡®∏‡®Æ‡®æ‡®Ç ‡®ö‡®æ‡®π‡©Ä‡®¶‡®æ ‡®≤‡®ì!",
    toastResume: "‚ñ∂ ‡®ú‡®æ‡®∞‡©Ä ‡®π‡©à‚Ä¶",
    toastTricky: "‚ú® ‡®§‡©Å‡®∏‡©Ä‡®Ç ‡®î‡®ñ‡©á ‡®∏‡®º‡®¨‡®¶ '‡®§‡©á ‡®ï‡®≤‡®ø‡©±‡®ï ‡®ï‡©Ä‡®§‡®æ!",
    toastSpeechOn: "üîä ‡®â‡©±‡®ö‡©Ä ‡®Ü‡®µ‡®æ‡®ú‡®º ‡®µ‡®ø‡©±‡®ö ‡®™‡©ú‡©ç‡®π‡®®‡®æ ‡®ö‡®æ‡®≤‡©Ç",
    toastSpeechOff: "üîá ‡®â‡©±‡®ö‡©Ä ‡®Ü‡®µ‡®æ‡®ú‡®º ‡®¨‡©∞‡®¶",
    toastNoStart: "‡®™‡®π‡®ø‡®≤‡®æ‡®Ç ‡®™‡©ú‡©ç‡®π‡®®‡®æ ‡®∏‡®º‡©Å‡®∞‡©Ç ‡®ï‡®∞‡©ã!",
    toastChunk: "üì¶ ‡®ö‡©∞‡®ï ‡®Æ‡©ã‡®° ‡®ö‡®æ‡®≤‡©Ç",
    toastFocus: "üî¶ ‡®´‡©ã‡®ï‡®∏ ‡®Æ‡©ã‡®° ‡®ö‡®æ‡®≤‡©Ç",
    toastSimple: "‚ú® ‡®µ‡©±‡®°‡®æ ‡®ü‡©à‡®ï‡®∏‡®ü ‡®ö‡®æ‡®≤‡©Ç",
    toastModeOff: "‡®Æ‡©ã‡®° ‡®¨‡©∞‡®¶",
    lang: "pa-IN"
  }
};

// Build syllable HTML ‚Äî amber dots between parts
function sylHtml(syl) {
  return syl.map((s,i) =>
    i < syl.length-1
      ? `<span>${s}</span><span class="dot"> ¬∑ </span>`
      : `<span>${s}</span>`
  ).join('');
}

// ‚ïê‚ïê SPEED MAP (ms per word) ‚Äî slower defaults for dyslexic-friendly reading ‚ïê‚ïê
const SPEED = { 1:1600, 2:1050, 3:680, 4:420, 5:250 };
// Extra delay on tricky words
const TRICKY_EXTRA_DELAY = 500;

// ‚ïê‚ïê STATE ‚ïê‚ïê
let sessionOn = false, currentLine = 0, startTime = null;
let paused = false, wordTimer = null, wordIdx = 0;
let activeMode = null;
let speechEnabled = false;
let currentLang = 'en';
let isSpeaking = false; // FIX: track speech state to prevent repeats

let currentDay = 1;
let currentPassage = [];
let TOTAL = 0;

// Init day from localStorage
(function initDay() {
  const today = new Date().toDateString();
  const storedDate = localStorage.getItem('readease_date');
  let storedDay = parseInt(localStorage.getItem('readease_day'), 10);
  if (isNaN(storedDay)) storedDay = 1;

  if (storedDate === today) {
    currentDay = storedDay;
  } else {
    currentDay = (storedDate === null) ? 1 : storedDay + 1;
    localStorage.setItem('readease_date', today);
    localStorage.setItem('readease_day', currentDay);
  }
  document.getElementById('day-pill').textContent = `Day ${currentDay} ¬∑ Session 1`;
})();

function initPassage() {
  const passageIndex = (currentDay - 1) % 3;
  currentPassage = ALL_PASSAGES[currentLang][passageIndex];
  TOTAL = currentPassage.length;
}
initPassage();

// Apply UI language strings
function applyUIStrings(lang) {
  const s = UI_STRINGS[lang];
  document.getElementById('sb-title').textContent = s.sbTitle;
  document.getElementById('sb-desc').innerHTML = s.sbDesc;
  document.getElementById('big-start-btn').textContent = s.startBtn;
  document.getElementById('speed-label').textContent = s.speedLabel;
  const speedVal = parseInt(document.getElementById('speed-slider').value);
  document.getElementById('speed-lbl').textContent = s.speeds[speedVal];
  document.getElementById('pause-btn').innerHTML = paused ? s.resume : s.pause;
  document.getElementById('sum-title').textContent = s.sumTitle;
  document.getElementById('sum-sub').textContent = s.sumSub;
  document.getElementById('s-lines-label').textContent = s.linesLabel;
  document.getElementById('s-time-label').textContent = s.timeLabel;
  document.getElementById('sum-close-btn').textContent = s.sumClose;

  // Update passage title
  const passageIndex = (currentDay - 1) % 3;
  document.getElementById('p-title').textContent = s.pTitle + ' ‚Äî ' + s.stories[passageIndex];

  // Update idle message if session not started
  if (!sessionOn) {
    const box = document.getElementById('sent-box');
    if (box.querySelector('.idle-msg')) {
      box.innerHTML = `<div class="idle-msg"><span>üå±</span>${s.idleMsg}</div>`;
    }
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  LANGUAGE SWITCH
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function switchLang(lang) {
  if (lang === currentLang) return;
  if (sessionOn) {
    // Reset session on language switch
    resetSession();
  }
  currentLang = lang;
  // Update active button
  ['en','hi','pa'].forEach(l => {
    document.getElementById('lang-' + l).classList.toggle('active', l === lang);
  });
  initPassage();
  applyUIStrings(lang);
  document.getElementById('p-counter').textContent = `Line ‚Äî / ${TOTAL}`;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  SPEED LABEL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function updateSpeedLabel(v) {
  document.getElementById('speed-lbl').textContent = UI_STRINGS[currentLang].speeds[v];
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  SPEECH HELPERS ‚Äî FIX: prevent repeat triggers
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function speakWord(text) {
  if (!speechEnabled) return;
  // Cancel any pending or active speech first
  window.speechSynthesis.cancel();
  isSpeaking = false;

  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = UI_STRINGS[currentLang].lang;
  utterance.rate = 0.82; // clear, deliberate pace
  utterance.pitch = 1.0;
  utterance.onstart = () => { isSpeaking = true; };
  utterance.onend   = () => { isSpeaking = false; };
  utterance.onerror = () => { isSpeaking = false; };
  window.speechSynthesis.speak(utterance);
}

function cancelSpeech() {
  window.speechSynthesis.cancel();
  isSpeaking = false;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  BEGIN SESSION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function beginSession() {
  if (sessionOn) return;
  sessionOn = true;
  startTime = Date.now();
  const s = UI_STRINGS[currentLang];
  document.getElementById('big-start-btn').disabled = true;
  document.getElementById('big-start-btn').textContent = s.reading;
  document.getElementById('pause-btn').classList.add('show');
  document.getElementById('pause-btn').innerHTML = s.pause;
  showLine(0);
  toast(s.toastStart);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  SHOW ONE LINE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showLine(idx) {
  if (idx >= TOTAL) { showDone(); return; }
  currentLine = idx;
  cancelSpeech(); // FIX: cancel any lingering speech when moving to new line

  const raw   = currentPassage[idx];
  // For non-English, words are separated by spaces
  const words = raw.split(/\s+/);

  let html = `<div class="sent-line" id="cur-line">`;
  words.forEach((w, i) => {
    if (currentLang === 'en') {
      const clean = w.replace(/[^a-zA-Z]/g,'').toLowerCase();
      const info  = TRICKY[clean];
      if (info) {
        html += `<span class="word tricky" data-i="${i}" data-tip="${info.tip}"
                   onmouseenter="showTipEl(event,this)" onmouseleave="hideTip()"
                 >${w}<span class="syl">${sylHtml(info.syl)}</span></span> `;
      } else {
        html += `<span class="word" data-i="${i}">${w}</span> `;
      }
    } else {
      html += `<span class="word" data-i="${i}">${w}</span> `;
    }
  });
  html += '</div>';

  document.getElementById('sent-box').innerHTML = html;
  applyMode();

  document.getElementById('prog-fill').style.width = (((idx+1)/TOTAL)*100) + '%';
  document.getElementById('p-counter').textContent = `Line ${idx+1} / ${TOTAL}`;

  wordIdx = 0;
  clearTimeout(wordTimer);
  highlightNextWord();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  WORD-BY-WORD HIGHLIGHT ENGINE ‚Äî FIX: no double speech
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function highlightNextWord() {
  if (!sessionOn || paused) return;

  const line = document.getElementById('cur-line');
  if (!line) return;

  const wordEls = Array.from(line.querySelectorAll('.word'));

  // Remove previous highlight
  wordEls.forEach(w => w.classList.remove('lit'));

  if (wordIdx >= wordEls.length) {
    // Line complete ‚Äî pause then load next
    wordTimer = setTimeout(() => {
      if (!sessionOn || paused) return;
      showLine(currentLine + 1);
    }, 1300);
    return;
  }

  const el = wordEls[wordIdx];
  el.classList.add('lit');

  // FIX: speak only the display text of the word element,
  // NOT including the hidden syllable span text inside tricky words.
  // We grab only the first text node to avoid reading the syllables.
  if (speechEnabled) {
    // Get just the word text (first text node), not any child spans
    let wordText = '';
    for (let node of el.childNodes) {
      if (node.nodeType === Node.TEXT_NODE) {
        wordText += node.textContent;
      }
    }
    wordText = wordText.trim();
    if (wordText) speakWord(wordText);
  }

  el.scrollIntoView({ behavior:'smooth', block:'nearest' });

  const speed = parseInt(document.getElementById('speed-slider').value);
  let delay = SPEED[speed];
  if (el.classList.contains('tricky')) {
    delay += TRICKY_EXTRA_DELAY;
  }

  wordIdx++;
  wordTimer = setTimeout(highlightNextWord, delay);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  PAUSE / RESUME
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function togglePause() {
  paused = !paused;
  const btn = document.getElementById('pause-btn');
  const s = UI_STRINGS[currentLang];
  if (paused) {
    clearTimeout(wordTimer);
    cancelSpeech();
    btn.innerHTML = s.resume;
    btn.style.background   = 'rgba(106,158,127,0.15)';
    btn.style.color        = 'var(--sage-d)';
    btn.style.borderColor  = 'rgba(106,158,127,0.4)';
    toast(s.toastPause);
  } else {
    btn.innerHTML = s.pause;
    btn.style.background  = '';
    btn.style.color       = '';
    btn.style.borderColor = '';
    toast(s.toastResume);
    highlightNextWord();
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  ALL DONE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showDone() {
  clearTimeout(wordTimer);
  cancelSpeech();
  const line = document.getElementById('cur-line');
  if (line) line.querySelectorAll('.word').forEach(w => w.classList.remove('lit'));
  const s = UI_STRINGS[currentLang];
  document.getElementById('sent-box').innerHTML = `
    <div class="done-msg">
      <span>üéâ</span>
      <p>${s.doneMsg}</p>
    </div>`;
  document.getElementById('prog-fill').style.width = '100%';
  document.getElementById('pause-btn').classList.remove('show');
  toast(s.toastDone);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  RESET
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function resetSession() {
  sessionOn = false; paused = false;
  clearTimeout(wordTimer);
  cancelSpeech();
  startTime = null;
  currentLine = 0; activeMode = null; wordIdx = 0;

  document.getElementById('prog-fill').style.width = '0%';
  document.getElementById('p-counter').textContent = `Line ‚Äî / ${TOTAL}`;
  const pb = document.getElementById('pause-btn');
  pb.classList.remove('show');
  pb.innerHTML = UI_STRINGS[currentLang].pause;
  pb.style.cssText = '';

  ['chunk','focus','simple'].forEach(m => document.getElementById('tb-'+m).classList.remove('on'));

  const startBtn = document.getElementById('big-start-btn');
  startBtn.disabled = false;
  startBtn.textContent = UI_STRINGS[currentLang].startBtn;

  const s = UI_STRINGS[currentLang];
  document.getElementById('sent-box').innerHTML = `
    <div class="idle-msg">
      <span>üå±</span>
      ${s.idleMsg}
    </div>`;
  toast(s.toastReset);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  FINISH & RESULTS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function endSession() {
  const s = UI_STRINGS[currentLang];
  if (!startTime) { toast(s.toastNoStart); return; }
  sessionOn = false;
  clearTimeout(wordTimer);
  cancelSpeech();
  const elapsed = Math.round((Date.now() - startTime) / 1000);
  const linesRead = Math.min(currentLine+1, TOTAL);
  document.getElementById('s-lines').textContent = linesRead;
  document.getElementById('s-time').textContent = elapsed;
  document.getElementById('s-msg').textContent = s.sumMsg;
  document.getElementById('s-next').textContent = s.sumNext;
  document.getElementById('overlay').classList.add('show');
}

function closeOverlay() {
  document.getElementById('overlay').classList.remove('show');
  toast(UI_STRINGS[currentLang].toastClose);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  TOOLS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function toggleTool(tool) {
  const s = UI_STRINGS[currentLang];
  if (tool === 'speech') {
    speechEnabled = !speechEnabled;
    const btn = document.getElementById('tb-speech');
    if (speechEnabled) {
      btn.classList.add('on');
      toast(s.toastSpeechOn);
    } else {
      btn.classList.remove('on');
      cancelSpeech();
      toast(s.toastSpeechOff);
    }
    return;
  }
  if (activeMode === tool) {
    activeMode = null;
    document.getElementById('tb-'+tool).classList.remove('on');
    toast(s.toastModeOff);
  } else {
    ['chunk','focus','simple'].forEach(m => document.getElementById('tb-'+m).classList.remove('on'));
    activeMode = tool;
    document.getElementById('tb-'+tool).classList.add('on');
    const msgs = {
      chunk: s.toastChunk,
      focus: s.toastFocus,
      simple: s.toastSimple
    };
    toast(msgs[tool]);
  }
  applyMode();
}

function applyMode() {
  const line = document.getElementById('cur-line');
  if (!line) return;
  ['chunk-mode','focus-mode','simple-mode'].forEach(c => line.classList.remove(c));
  if (activeMode) line.classList.add(activeMode+'-mode');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  TOOLTIP
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showTipEl(e, el) {
  if (el.classList.contains('lit')) return;
  const t = el.getAttribute('data-tip');
  if (!t) return;
  const tip = document.getElementById('tooltip');
  tip.textContent = t;
  tip.style.left  = (e.clientX + 14) + 'px';
  tip.style.top   = (e.clientY + 12) + 'px';
  tip.classList.add('show');
}
function hideTip() { document.getElementById('tooltip').classList.remove('show'); }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  TOAST
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let toastTimer = null;
function toast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => t.classList.remove('show'), 3200);
}

// ‚ïê‚ïê Init UI strings on load ‚ïê‚ïê
applyUIStrings('en');
document.getElementById('p-counter').textContent = `Line ‚Äî / ${TOTAL}`;
// Set initial speed label
updateSpeedLabel(2);
</script>
</body>
</html>